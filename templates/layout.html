{% set brand = "Garment ERP" %}
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{{ brand }}{% if title %} · {{ title }}{% endif %}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='new_ui.css') }}">
</head>
<body>

  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="logo">
      <svg viewBox="0 0 24 24" fill="currentColor"><path d="M4 5h16l-3 6v8H7V11L4 5z"/></svg>
      <span>{{ brand }}</span>
    </div>
    <ul class="nav-menu">
      <li><a href="{{ url_for('dashboard') }}" class="{% if request.endpoint=='dashboard' %}active{% endif %}">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8v-10h-8v10zm0-18v6h8V3h-8z"/></svg>
        Dashboard</a></li>

      <!-- Links that don’t exist in your Flask app yet can point to "#" for now -->
      <li><a href="#" class="">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M4 4h16v2H4zm0 4h10v2H4zm0 4h16v2H4zm0 4h10v2H4z"/></svg>
        OB Management</a></li>

      <li><a href="#" class="">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
        Production Orders</a></li>

      <li><a href="#" class="">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M2 6l10 6 10-6-10-6L2 6zm0 7l10 6 10-6M2 6v7l10 6 10-6V6"/></svg>
        Bundle Management</a></li>

      <li><a href="{{ url_for('workers_page') }}" class="{% if request.endpoint in ['workers_page','workers_edit_page'] %}active{% endif %}">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4Zm0 2c-3 0-9 1.5-9 4v2h18v-2c0-2.5-6-4-9-4Z"/></svg>
        Workers &amp; Lines</a></li>

      <li><a href="#" class="">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M4 7h16v2H4zm0 4h10v2H4zm0 4h16v2H4z"/></svg>
        Live Scanning</a></li>

      <li><a href="{{ url_for('reports_page') }}" class="{% if request.endpoint=='reports_page' %}active{% endif %}">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0 4h2v-2H3v2zm4 0h14v-2H7v2zm0-4h14v-2H7v2zm0-4h14v-2H7v2zm0-4h14v-2H7v2zM3 5v2h2V5H3z"/></svg>
        Reports</a></li>

      <li><a href="{{ url_for('settings_page') }}" class="{% if request.endpoint=='settings_page' %}active{% endif %}">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 8.6 17 3.6l1.4 1.4L13.4 10l5 5-1.4 1.4-5-5-5 5L5.6 15 10.6 10 5.6 5l1.4-1.4L12 8.6z"/></svg>
        Settings</a></li>
    </ul>
  </aside>

  <!-- Page content -->
  <div class="main-content">
    {% block content %}{% endblock %}
    <footer>© <span id="year"></span> {{ brand }} · Rate ₹{{ "%.2f"|format((rate_per_piece|default(1.0))) }} per piece</footer>
  </div>

  <script>
    // Accent color: load saved value and apply at startup
    (function(){
      const el = document.documentElement;
      const saved = localStorage.getItem('accentColor');
      if (saved) {
        el.style.setProperty('--accent-color', saved);
        // crude darker shade
        const d = (hex, f=0.8) => '#'+hex.replace('#','')
            .match(/.{1,2}/g).map(h=>('0'+Math.max(0,Math.min(255,Math.floor(parseInt(h,16)*f))).toString(16)).slice(-2)).join('');
        el.style.setProperty('--accent-color-dark', d(saved, 0.7));
      }
      document.getElementById('year').textContent = new Date().getFullYear();
    })();
  </script>
</body>
</html>
