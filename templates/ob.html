{% extends 'layout.html' %}{% block content %}<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Production Scanner Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" id="mobileMenuToggle">
        <i class="fas fa-bars"></i>
    </button>

    <!-- Sidebar -->
    <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <i class="fas fa-scanner-gun"></i>
                <span>Production Scanner</span>
            </div>
        </div>
        
        <ul class="sidebar-menu">
            <li class="menu-item active" data-section="dashboard">
                <a href="#" class="menu-link">
                    <i class="fas fa-chart-line"></i>
                    <span>Dashboard</span>
                </a>
            </li>
            <li class="menu-item" data-section="workers">
                <a href="#" class="menu-link">
                    <i class="fas fa-users"></i>
                    <span>Workers</span>
                </a>
            </li>
            <li class="menu-item" data-section="operations">
                <a href="#" class="menu-link">
                    <i class="fas fa-cogs"></i>
                    <span>Operations</span>
                </a>
            </li>
            <li class="menu-item" data-section="production">
                <a href="#" class="menu-link">
                    <i class="fas fa-clipboard-list"></i>
                    <span>Production</span>
                </a>
            </li>
            <li class="menu-item" data-section="reports">
                <a href="#" class="menu-link">
                    <i class="fas fa-file-alt"></i>
                    <span>Reports</span>
                </a>
            </li>
            <li class="menu-item" data-section="settings">
                <a href="#" class="menu-link">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </a>
            </li>
        </ul>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Dashboard Section -->
        <section class="content-section active" id="dashboard">
            <div class="section-header">
                <h1>Dashboard</h1>
                <div class="live-indicator">
                    <div class="pulse-dot"></div>
                    <span>Live</span>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-boxes"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-value" id="piecesToday">78</div>
                        <div class="stat-label">Pieces Today</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-user-check"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-value" id="workersActive">4</div>
                        <div class="stat-label">Workers Active</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-dollar-sign"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-value" id="earningsToday">$156.00</div>
                        <div class="stat-label">Earnings Today</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-value" id="totalWorkers">4</div>
                        <div class="stat-label">Total Workers</div>
                    </div>
                </div>
            </div>

            <div class="dashboard-content">
                <div class="card">
                    <div class="card-header">
                        <h3>Recent Activities</h3>
                        <button class="btn btn--sm btn--secondary" onclick="refreshActivities()">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Worker</th>
                                    <th>Department</th>
                                    <th>Barcode</th>
                                    <th>Timestamp</th>
                                </tr>
                            </thead>
                            <tbody id="activitiesTable">
                                <!-- Populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="active-worker-card card">
                    <div class="card-header">
                        <h3>Currently Active Worker</h3>
                    </div>
                    <div class="card-body">
                        <div class="active-worker-info" id="activeWorkerInfo">
                            <div class="worker-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="worker-details">
                                <div class="worker-name">John Smith</div>
                                <div class="worker-department">Cutting Department</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Workers Section -->
        <section class="content-section" id="workers">
            <div class="section-header">
                <h1>Workers Management</h1>
            </div>

            <div class="workers-content">
                <div class="card">
                    <div class="card-header">
                        <h3>Add New Worker</h3>
                    </div>
                    <div class="card-body">
                        <form id="addWorkerForm" class="form-grid">
                            <div class="form-group">
                                <label class="form-label">Name</label>
                                <input type="text" class="form-control" id="workerName" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Token ID</label>
                                <input type="text" class="form-control" id="workerTokenId" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Department</label>
                                <select class="form-control" id="workerDepartment" required>
                                    <option value="">Select Department</option>
                                    <option value="Cutting">Cutting</option>
                                    <option value="Sewing">Sewing</option>
                                    <option value="Quality Control">Quality Control</option>
                                    <option value="Packing">Packing</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <button type="submit" class="btn btn--primary">Add Worker</button>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3>Workers List</h3>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Token ID</th>
                                    <th>Department</th>
                                    <th>Status</th>
                                    <th>Created</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="workersTable">
                                <!-- Populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- Operations Section -->
        <section class="content-section" id="operations">
            <div class="section-header">
                <h1>Operations Management</h1>
            </div>

            <div class="operations-content">
                <div class="card">
                    <div class="card-header">
                        <h3>Add New Operation</h3>
                    </div>
                    <div class="card-body">
                        <form id="addOperationForm" class="form-grid">
                            <div class="form-group">
                                <label class="form-label">Name</label>
                                <input type="text" class="form-control" id="operationName" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Code</label>
                                <input type="text" class="form-control" id="operationCode" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Description</label>
                                <textarea class="form-control" id="operationDescription" rows="3"></textarea>
                            </div>
                            <div class="form-group">
                                <button type="submit" class="btn btn--primary">Add Operation</button>
                            </div>
                        </form>
                        <div class="note">
                            <i class="fas fa-info-circle"></i>
                            <span>Barcode format: B:OP10-XXXX → OP10</span>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3>Operations List</h3>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Code</th>
                                    <th>Description</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="operationsTable">
                                <!-- Populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- Production Section -->
        <section class="content-section" id="production">
            <div class="section-header">
                <h1>Production Logging</h1>
            </div>

            <div class="production-content">
                <div class="card">
                    <div class="card-header">
                        <h3>Manual Production Log</h3>
                    </div>
                    <div class="card-body">
                        <form id="addProductionForm" class="form-grid">
                            <div class="form-group">
                                <label class="form-label">Worker</label>
                                <select class="form-control" id="productionWorker" required>
                                    <option value="">Select Worker</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Operation</label>
                                <select class="form-control" id="productionOperation" required>
                                    <option value="">Select Operation</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Quantity</label>
                                <input type="number" class="form-control" id="productionQuantity" required min="1">
                            </div>
                            <div class="form-group">
                                <button type="submit" class="btn btn--primary">Log Production</button>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3>Recent Production Logs</h3>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Worker</th>
                                    <th>Operation</th>
                                    <th>Quantity</th>
                                    <th>Timestamp</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="productionTable">
                                <!-- Populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- Reports Section -->
        <section class="content-section" id="reports">
            <div class="section-header">
                <h1>Reports & Analytics</h1>
            </div>

            <div class="reports-content">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-qrcode"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="scansToday">5</div>
                            <div class="stat-label">Scans Today</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-clipboard-check"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="productionEntries">4</div>
                            <div class="stat-label">Production Entries</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-calculator"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="totalQuantity">78</div>
                            <div class="stat-label">Total Quantity</div>
                        </div>
                    </div>
                </div>

                <div class="export-section">
                    <div class="card">
                        <div class="card-header">
                            <h3>Export Data</h3>
                        </div>
                        <div class="card-body">
                            <div class="export-buttons">
                                <button class="btn btn--secondary export-btn" onclick="exportData('scans')">
                                    <i class="fas fa-download"></i>
                                    Export Scans CSV
                                </button>
                                <button class="btn btn--secondary export-btn" onclick="exportData('production')">
                                    <i class="fas fa-download"></i>
                                    Export Production CSV
                                </button>
                                <button class="btn btn--secondary export-btn" onclick="exportData('workers')">
                                    <i class="fas fa-download"></i>
                                    Export Workers CSV
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Settings Section -->
        <section class="content-section" id="settings">
            <div class="section-header">
                <h1>System Settings</h1>
            </div>

            <div class="settings-content">
                <div class="card">
                    <div class="card-header">
                        <h3>System Information</h3>
                    </div>
                    <div class="card-body">
                        <div class="settings-grid">
                            <div class="setting-item">
                                <label>Brand</label>
                                <span>Production Scanner</span>
                            </div>
                            <div class="setting-item">
                                <label>Device Secret</label>
                                <span>u38fh39f...</span>
                            </div>
                            <div class="setting-item">
                                <label>Rate Per Piece</label>
                                <span>$2.00</span>
                            </div>
                            <div class="setting-item">
                                <label>Database</label>
                                <span>SQLite (production.db)</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3>API Endpoints</h3>
                    </div>
                    <div class="card-body">
                        <div class="api-endpoints">
                            <div class="endpoint-item">
                                <div class="endpoint-method">POST</div>
                                <div class="endpoint-path">/scan</div>
                                <div class="endpoint-name">Scan Endpoint</div>
                            </div>
                            <div class="endpoint-item">
                                <div class="endpoint-method">GET</div>
                                <div class="endpoint-path">/api/stats</div>
                                <div class="endpoint-name">Stats API</div>
                            </div>
                            <div class="endpoint-item">
                                <div class="endpoint-method">GET</div>
                                <div class="endpoint-path">/api/activities</div>
                                <div class="endpoint-name">Activities API</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3>Environment Variables</h3>
                    </div>
                    <div class="card-body">
                        <div class="env-note">
                            <i class="fas fa-info-circle"></i>
                            <p>Environment variables are used to configure the application settings. These include database connections, API keys, and other sensitive configuration data.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script src="app.js"></script>
</body>
</html>{% endblock %}