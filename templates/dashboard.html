{% extends "layout.html" %}
{% block content %}

<header class="page-header">
  <h1>Production Dashboard</h1>
  <div class="live-indicator"><span class="live-dot"></span> Live</div>
</header>

<section class="stats-grid" id="statsGrid">
  <!-- filled by JS -->
</section>

<section class="grid">
  <div class="card">
    <h3>Hourly Trend</h3>
    <canvas id="productionChart" height="140"></canvas>
  </div>
  <div class="card">
    <h3>Top Workers (Pieces)</h3>
    <canvas id="workerChart" height="140"></canvas>
  </div>
</section>

<section class="card" style="margin-top:16px">
  <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px">
    <h3>Recent Activities</h3>
    <span class="muted" id="lastUpdated">â€”</span>
  </div>
  <div class="activities" id="activitiesList"></div>
</section>

<script src="{{ url_for('static', filename='app.js') }}"></script>
<script>
  window.DASHBOARD_POLL_MS = 2000; // 2s refresh
</script>
{% endblock %}
